@api = http://localhost:3000

### ================================
### Registro de usuario
### ================================
POST {{api}}/auth/register
Content-Type: application/json

{
  "nombre": "gonzalo",
  "email": "gonzalo@test.com",
  "contraseña": "Gonza1234"
}

### ================================
### Login
### ================================
# Guarda automáticamente el token en el workspace
POST {{api}}/auth/login
Content-Type: application/json

{
  "nombre": "gonzalo",
  "contraseña": "Gonza1234"
}

### Usa esta variable en todas las rutas protegidas
@token = {{login.response.body.token}}


#####################################################
#                   VEHICULOS
#####################################################


### ================================
### Crear vehículo
### ================================
POST {{api}}/vehiculos
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2MzAyNDMwNiwiZXhwIjoxNzYzMDM4NzA2fQ.suicDg6qTekXOX_5Fci4BY-9byMU3He7_XsS_7HLlWE
Content-Type: application/json

{
  "marca": "Ford",
  "modelo": "Cargo 1722",
  "patente": "AA123BB",
  "año": 2018,
  "capacidad_carga": 7500
}


### ================================
### Listar vehículos
### ================================
GET {{api}}/vehiculos
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2MzAyNDMwNiwiZXhwIjoxNzYzMDM4NzA2fQ.suicDg6qTekXOX_5Fci4BY-9byMU3He7_XsS_7HLlWE


### ================================
### Actualizar vehículo (id = 1)
### ================================
PUT {{api}}/vehiculos/1
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2MzAyNDMwNiwiZXhwIjoxNzYzMDM4NzA2fQ.suicDg6qTekXOX_5Fci4BY-9byMU3He7_XsS_7HLlWE
Content-Type: application/json

{
  "marca": "Iveco",
  "modelo": "Tector",
  "patente": "AA999AA",
  "año": 2019,
  "capacidad_carga": 8000
}


### ================================
### Eliminar vehículo (id = 1)
### ================================
DELETE {{api}}/vehiculos/1
Authorization: Bearer {{token}}



#####################################################
#                   CONDUCTORES
#####################################################


### ================================
### Crear conductor
### ================================
POST {{api}}/conductores
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2MzAyNDMwNiwiZXhwIjoxNzYzMDM4NzA2fQ.suicDg6qTekXOX_5Fci4BY-9byMU3He7_XsS_7HLlWE
Content-Type: application/json

{
  "nombre": "Pedro",
  "apellido": "Gómez",
  "dni": "33222111",
  "licencia": "CAT-C",
  "fecha_vencimiento_licencia": "2026-05-01"
}


### ================================
### Listar conductores
### ================================
GET {{api}}/conductores
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2MzAyNDMwNiwiZXhwIjoxNzYzMDM4NzA2fQ.suicDg6qTekXOX_5Fci4BY-9byMU3He7_XsS_7HLlWE


### ================================
### Actualizar conductor (id = 1)
### ================================
PUT {{api}}/conductores/1
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2MzAyNDMwNiwiZXhwIjoxNzYzMDM4NzA2fQ.suicDg6qTekXOX_5Fci4BY-9byMU3He7_XsS_7HLlWE
Content-Type: application/json

{
  "nombre": "Carlos",
  "apellido": "López",
  "dni": "30333888",
  "licencia": "CAT-C",
  "fecha_vencimiento_licencia": "2027-02-01"
}


### ================================
### Eliminar conductor (id = 1)
### ================================
DELETE {{api}}/conductores/1
Authorization: Bearer {{token}}



#####################################################
#                   VIAJES
#####################################################


### ================================
### Registrar viaje
### ================================
POST {{api}}/viajes
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2MzAyNDMwNiwiZXhwIjoxNzYzMDM4NzA2fQ.suicDg6qTekXOX_5Fci4BY-9byMU3He7_XsS_7HLlWE
Content-Type: application/json

{
  "vehiculo_id": 1,
  "conductor_id": 1,
  "fecha": "2024-11-10",
  "origen": "La Rioja",
  "destino": "Córdoba",
  "kilometros": 450
}


### ================================
### Listar viajes (todos)
### ================================
GET {{api}}/viajes
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2MzAyNDMwNiwiZXhwIjoxNzYzMDM4NzA2fQ.suicDg6qTekXOX_5Fci4BY-9byMU3He7_XsS_7HLlWE


### ================================
### Historial por vehículo
### ================================
GET {{api}}/viajes?vehiculoId=1
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2MzAyNDMwNiwiZXhwIjoxNzYzMDM4NzA2fQ.suicDg6qTekXOX_5Fci4BY-9byMU3He7_XsS_7HLlWE


### ================================
### Historial por conductor
### ================================
GET {{api}}/viajes?conductorId=1
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2MzAyNDMwNiwiZXhwIjoxNzYzMDM4NzA2fQ.suicDg6qTekXOX_5Fci4BY-9byMU3He7_XsS_7HLlWE


### ================================
### Total de kilómetros por vehículo
### ================================
GET {{api}}/viajes/total-km?vehiculoId=1
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2MzAyNDMwNiwiZXhwIjoxNzYzMDM4NzA2fQ.suicDg6qTekXOX_5Fci4BY-9byMU3He7_XsS_7HLlWE


### ================================
### Total de kilómetros por conductor
### ================================
GET {{api}}/viajes/total-km?conductorId=1
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2MzAyNDMwNiwiZXhwIjoxNzYzMDM4NzA2fQ.suicDg6qTekXOX_5Fci4BY-9byMU3He7_XsS_7HLlWE

